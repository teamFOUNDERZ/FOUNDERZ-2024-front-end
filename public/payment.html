<!-- payment.html -->
<!DOCTYPE html>
<html lang="ha">
<head>
    <meta charset="utf-8" />
    <title>결제하기</title>
    <!-- 토스페이먼츠 결제창 SDK 추가 -->
    <script src="https://js.tosspayments.com/v1/payment"></script>
</head>
<body>
    <script>
        // 클라이언트 키로 객체 초기화
        var clientKey = 'test_ck_Z1aOwX7K8m7qenDklJy9VyQxzvNP'
        var tossPayments = TossPayments(clientKey)

        // 결제창 띄우는 함수
        function initiatePayment() {
            tossPayments.requestPayment('CARD', {
                amount: 1,
                orderId: 'bec1d544-2a34-4f44-ada0-c5213d8fd8dedrftghafew',
                orderName: '포인트 충전',
                customerName: '첫번째',
                customerEmail: 'test1@gmail.com',
                successUrl: 'http://localhost:8081/api/v1/payments/toss/success',
                failUrl: 'http://localhost:8081/api/v1/payments/toss/fail'
            })
        }

        // 부모로부터 메시지를 받을 준비
        window.addEventListener('message', function(event) {
            if (event.data === 'initiatePayment') {
                initiatePayment();
            }
        });
    </script>
</body>
</html>
